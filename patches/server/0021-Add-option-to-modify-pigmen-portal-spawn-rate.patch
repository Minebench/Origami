From 575fe1f52421897a4af8676e34f06640f28fd7fb Mon Sep 17 00:00:00 2001
From: Phoenix616 <mail@moep.tv>
Date: Sun, 29 Dec 2019 00:53:17 +0100
Subject: [PATCH] Add option to modify pigmen portal spawn rate

---
 src/main/java/de/minebench/origami/OrigamiConfig.java | 4 ++++
 src/main/java/net/minecraft/server/BlockPortal.java   | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/main/java/de/minebench/origami/OrigamiConfig.java b/src/main/java/de/minebench/origami/OrigamiConfig.java
index f40c58ca..a222aacf 100644
--- a/src/main/java/de/minebench/origami/OrigamiConfig.java
+++ b/src/main/java/de/minebench/origami/OrigamiConfig.java
@@ -223,6 +223,10 @@ public final class OrigamiConfig {
         private void pigmenDontTargetUnlessHit() {
             pigmenDontTargetUnlessHit = getBoolean("pigmen.dont-target-unless-hit", pigmenDontTargetUnlessHit);
         }
+        public int pigmenPortalSpawn = 2000;
+        private void pigmenPortalSpawn() {
+            pigmenPortalSpawn = getInt("pigmen.portal-spawn", pigmenPortalSpawn);
+        }
         public double enderCrystalAttackRadius = 0.0D;
         public float enderCrystalAttackDamage = 1.0F;
         private void crystalTurrets() {
diff --git a/src/main/java/net/minecraft/server/BlockPortal.java b/src/main/java/net/minecraft/server/BlockPortal.java
index 9358a89a..93b69388 100644
--- a/src/main/java/net/minecraft/server/BlockPortal.java
+++ b/src/main/java/net/minecraft/server/BlockPortal.java
@@ -35,7 +35,7 @@ public class BlockPortal extends Block {
 
     @Override
     public void tick(IBlockData iblockdata, World world, BlockPosition blockposition, Random random) {
-        if (world.spigotConfig.enableZombiePigmenPortalSpawns && world.worldProvider.isOverworld() && world.getGameRules().getBoolean(GameRules.DO_MOB_SPAWNING) && random.nextInt(2000) < world.getDifficulty().a()) { // Spigot
+        if (world.spigotConfig.enableZombiePigmenPortalSpawns && world.worldProvider.isOverworld() && world.getGameRules().getBoolean(GameRules.DO_MOB_SPAWNING) && random.nextInt(world.origamiConfig.pigmenPortalSpawn) < world.getDifficulty().a()) { // Spigot // Origami - configurable portal spawn
             while (world.getType(blockposition).getBlock() == this) {
                 blockposition = blockposition.down();
             }
-- 
2.18.0.windows.1

